{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/popup.js","webpack:///./src/js/timer.js","webpack:///./src/js/navigation.js","webpack:///./src/js/game.js","webpack:///./src/js/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Popup","container","content","template","el","_classCallCheck","this","document","querySelector","modalDialogTitle","createElement","className","modalDialogIcon","innerHTML","modalDialogHeader","appendChild","modalDialogBody","modalDialogContent","modalDialogSubstrate","modalDialog","open","bind","close","classList","remove","addEventListener","add","onTick","onTimeup","time","id","stop","clearInterval","increment","start","timeout","setInterval","getTime","pause","resume","_game","_popup","_timer","menuTemplLevel","popUp","menuTemplResumeGame","body","menu","getElementsByClassName","LEVEL_PARAMS","easy","medium","hard","gameLevelBtns","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","gameLevelBtn","level","dataset","startGame","err","return","evnt","timer","_navigation","FLIP_TIME","LEVEL_TIMEOUT","cardNodes","cards","openCardsIndexes","amountOfGuessedPairs","_timer2","default","showTime","length","removeEventListener","openCard","destroy","game","gameTitle","clock","btnPauseTemplate","numberOfPairs","levelTimeOut","arguments","numberOfCols","getElement","push","array","slice","sort","compareRandom","row","j","index","card","cardBack","cardFace","textContent","createCards","a","b","Math","random","e","idx","indexOf","index1","index2","setTimeout","forEach","v","isAllPairsFound","closeOpenCards"],"mappings":"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","file":"./js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","export class Popup {\r\n\tconstructor(container, content, template) {\r\n\t\tthis.container = container;\r\n\t\tthis.content = content;\r\n\t\tthis.template = template;\r\n\r\n\t\tcontainer = getElement(container);\r\n\t\r\n\t\tthis.modalDialogTitle = document.createElement('div');\r\n\t\tthis.modalDialogTitle.className = 'modal-dialog__title';\r\n\t\t\r\n\t\tthis.modalDialogIcon = document.createElement('button');\r\n\t\tthis.modalDialogIcon.className = 'modal-dialog__icon';\r\n\t\tthis.modalDialogIcon.innerHTML = 'Ã—';\r\n\t\t\r\n\t\tthis.modalDialogHeader = document.createElement('div');\r\n\t\tthis.modalDialogHeader.className = 'modal-dialog__header';\r\n\t\tthis.modalDialogHeader.appendChild(this.modalDialogTitle);\r\n\t\tthis.modalDialogHeader.appendChild(this.modalDialogIcon);\r\n\t\t\r\n\t\tthis.modalDialogBody = document.createElement('div');\r\n\t\tthis.modalDialogBody.className = 'modal-dialog__body';\r\n\r\n\t\tthis.modalDialogContent = document.createElement('div');\r\n\t\tthis.modalDialogContent.className = 'modal-dialog__content';\r\n\t\tthis.modalDialogContent.appendChild(this.modalDialogHeader);\r\n\t\tthis.modalDialogContent.appendChild(this.modalDialogBody);\r\n\t\t\r\n\t\tthis.modalDialogSubstrate = document.createElement('div');\r\n\t\tthis.modalDialogSubstrate.className = 'modal-dialog__substrate';\r\n\t\t\r\n\t\tthis.modalDialog = document.createElement('div');\r\n\t\tthis.modalDialog.className = 'modal-dialog modal-dialog--hidden';\r\n\t\tthis.modalDialog.appendChild(this.modalDialogSubstrate);\r\n\t\tthis.modalDialog.appendChild(this.modalDialogContent);\r\n\t\t\r\n\r\n\t\tcontainer.appendChild(this.modalDialog);\r\n\t\t\r\n\t\tfunction getElement(el) {\r\n\t\t\tif (typeof el === 'string') {\r\n\t\t\t\treturn document.querySelector(el);\r\n\t\t\t} else {\r\n\t\t\t\treturn el;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// bind methods\r\n\t\tthis.open = this.open.bind(this);\r\n\t\tthis.close = this.close.bind(this);\r\n\t}\r\n\r\n\topen(content, template) {\r\n\t\tthis.modalDialogTitle.innerHTML = '';\r\n\t\tthis.modalDialogBody.innerHTML = '';\r\n\t\tthis.modalDialog.classList.remove('modal-dialog--hidden');\r\n\t\t//this.modalDialogSubstrate.addEventListener('click', this.close, false);\r\n\t\tthis.modalDialogIcon.addEventListener('click', this.close, false);\r\n\t\tthis.modalDialogTitle.innerHTML = content;\r\n\t\tthis.modalDialogBody.appendChild(template);\r\n\t\treturn this.modalDialog;\r\n\t\t\r\n\t}\r\n\t\r\n\tclose() {\r\n\t\tthis.modalDialog.classList.add('modal-dialog--hidden');\r\n\t}\r\n}\r\n","function createTimer(onTick, onTimeup) {\r\n\tvar time;\r\n\tvar id = null;\r\n\r\n\tfunction start(timeout) {\r\n\t\ttime = timeout;\r\n\t\tid = setInterval(increment, 1000);\r\n\t}\r\n\r\n\tfunction stop() {\r\n\t\tclearInterval(id);\r\n\t\ttime = 0;\r\n\t}\r\n\r\n\tfunction pause() {\r\n\t\tclearInterval(id);\r\n\t\treturn time;\r\n\t}\r\n\r\n\tfunction resume() {\r\n\t\tid = setInterval(increment, 1000);\r\n\t}\r\n\r\n\tfunction getTime() {\r\n\t\treturn time;\r\n\t}\r\n\r\n\tfunction increment() {\r\n\t\tif (time > 0) {\r\n\t\t\ttime = time - 1;\r\n\t\t\tonTick();\r\n\t\t} else {\r\n\t\t\tstop();\r\n\t\t\tonTimeup();\r\n\t\t}\t\r\n\t}\r\n\r\n\treturn {\r\n\t\tstart: start,\r\n\t\tstop: stop,\r\n\t\tgetTime: getTime,\r\n\t\tpause: pause,\r\n\t\tresume: resume\r\n\t};\r\n}\r\n\t\r\nexport default createTimer;","import {startGame, timer} from './game';\r\nimport {createModalDialog, Popup} from './popup';\r\nimport createTimer from './timer';\r\n\r\nexport const menuTemplLevel = document.querySelector('.js-menu-new-game');\r\nexport const menuTemplResumeGame = document.querySelector('.js-menu-resume-game');\r\nexport const popUp = new Popup(document.body, menu);\r\nexport const menu = popUp.open('', menuTemplLevel);\r\n\r\nconst container = document.getElementsByClassName('container')[0];\r\n\r\nconst LEVEL_PARAMS = {\r\n\teasy: 60,\r\n\tmedium: 50,\r\n\thard: 5\r\n}\r\n\r\nconst gameLevelBtns = menu.querySelectorAll('.js-game-level');\r\n\r\nconst evnt = () => {\r\n\tfor (let gameLevelBtn of gameLevelBtns) {\r\n\t\tgameLevelBtn.addEventListener('click', function() {\r\n\t\t\tconst level = this.dataset.level;\r\n\t\t\tstartGame(container, 9, LEVEL_PARAMS[level]);\r\n\t\t});\r\n\t\tgameLevelBtn.addEventListener('click', popUp.close);\r\n\t}\r\n}\r\nevnt();\r\n\r\nconst newGameBtn = document.querySelector('.js-menu-resume-game').querySelector('.js-new-game');\r\n\r\nnewGameBtn.addEventListener('click', function() {\r\n\tpopUp.open('', menuTemplLevel);\r\n});\r\n\r\nconst resumeGameBtn = document.querySelector('.js-menu-resume-game').querySelector('.js-resume-game');\r\nresumeGameBtn.addEventListener('click', function() {\r\n\tpopUp.close();\r\n\ttimer.resume();\r\n});","import createTimer from './timer';\r\nimport createModalDialog from './popup';\r\nimport {menuTemplLevel, menuTemplResumeGame, menu, popUp} from './navigation';\r\n\r\nconst FLIP_TIME = 250;\r\nconst LEVEL_TIMEOUT = 60;\r\n\r\nlet cardNodes = [];\r\nlet cards = [];\r\nlet openCardsIndexes = [];\r\nlet amountOfGuessedPairs = 0;\r\nexport const timer = createTimer(showTime, isTimeUp);\r\nconst game = document.createElement('div');\r\ngame.className = 'game';\r\nconst gameTitle = document.createElement('div');\r\ngameTitle.className = 'game__title';\r\nlet clock = document.createElement('div');\r\nclock.className = 'clock';\r\nconst btnPauseTemplate = document.querySelector('.pause');\r\nbtnPauseTemplate.addEventListener('click', function () {\r\n\ttimer.pause();\r\n\tpopUp.open('', menuTemplResumeGame);\r\n\r\n}, false);\r\ngameTitle.appendChild(clock);\r\ngameTitle.appendChild(btnPauseTemplate);\r\n\r\nexport function startGame(container, numberOfPairs, levelTimeOut = LEVEL_TIMEOUT) {\r\n\t\r\n\tcreateCards(container, numberOfPairs);\r\n\t\r\n\ttimer.start(levelTimeOut);\r\n\tshowTime(clock);\r\n}\r\n\r\nfunction createCards(container, numberOfPairs) {\r\n\tconst numberOfRows = 3;\r\n\tconst numberOfCols = numberOfPairs * 2 / numberOfRows;\r\n\t\r\n\tcontainer = getElement(container);\r\n\tif (container.querySelector('.game')) {\r\n\t\t//container.removeChild(game);\r\n\t\tcontainer.querySelector('.game').innerHTML = '';\r\n\t}\r\n\t\r\n\t\r\n\tfor (let i = 0; i < numberOfPairs; i++) {\r\n\t\tcards.push(i);\r\n\t\tcards.push(i);\r\n\t}\r\n\t\r\n\tcards = shuffle(cards);\r\n\t\r\n\t/* if (window.matchMedia(\"(orientation: portrait)\").matches) {\r\n\t\tvar temp = numberOfRows;\r\n\t\tnumberOfRows = numberOfCols;\r\n\t\tnumberOfCols = temp;\r\n\t} */\r\n\t\r\n\t\r\n\tgame.appendChild(gameTitle);\r\n\r\n\tfor (let i = 0; i < numberOfRows; i++) {\r\n\t\tconst row = document.createElement('div');\r\n\t\trow.className = 'row';\r\n\t\tfor (let j = 0; j < numberOfCols; j++) {\r\n\t\t\tconst index = i * numberOfCols + j;\r\n\t\t\t\r\n\t\t\tconst card = document.createElement('div');\r\n\t\t\tcard.className = 'card';\r\n\t\t\tcard.dataset.index = index;\r\n\t\t\tcard.addEventListener('click', openCard, false);\r\n\t\t\t\r\n\t\t\tconst cardBack = document.createElement('div');\r\n\t\t\tcardBack.className = 'card__back';\r\n\t\t\tcard.appendChild(cardBack);\r\n\t\t\t\r\n\t\t\tconst cardFace = document.createElement('div');\r\n\t\t\tcardFace.className = 'card__face';\r\n\t\t\tcardFace.textContent = cards[index];\r\n\t\t\tcard.appendChild(cardFace);\r\n\t\t\t\r\n\t\t\trow.appendChild(card);\r\n\t\t\tcardNodes.push(card);\r\n\t\t}\r\n\t\tgame.appendChild(row);\r\n\t}\r\n\t\r\n\tcontainer.appendChild(game);\r\n\t\r\n}\r\n\r\nfunction getElement(el) {\r\n\tif (typeof el === 'string') {\r\n\t\treturn document.querySelector(el);\r\n\t} else {\r\n\t\treturn el;\r\n\t}\r\n}\r\n\r\nfunction shuffle(array){\r\n\treturn array.slice().sort(compareRandom);\r\n}\r\n\r\nfunction compareRandom(a, b) {\r\n\treturn Math.random() - 0.5;\r\n}\r\n\t\r\nfunction openCard(e) {\r\n\tlet currentCard = this;\r\n\tlet idx = currentCard.dataset.index;\r\n\tif (openCardsIndexes.indexOf(idx) < 0) {\r\n\t\tcurrentCard.classList.add('card--flipped');\r\n\t\tcurrentCard.removeEventListener('click', openCard, false);\r\n\t\topenCardsIndexes.push(idx);\r\n\t\t\r\n\t\tif (openCardsIndexes.length === 2) {\r\n\t\t\tlet index1 = openCardsIndexes[0];\r\n\t\t\tlet index2 = openCardsIndexes[1];\t\r\n\t\t\tif (cards[index1] === cards[index2]) {\r\n\t\t\t\tamountOfGuessedPairs++;\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\thideOpenCards(); \r\n\t\t\t\t\tsetTimeout(isAllPairsFound, 0);\r\n\t\t\t\t}, FLIP_TIME);\r\n\t\t\t} else {\r\n\t\t\t\tsetTimeout(closeOpenCards, FLIP_TIME);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\t\r\nfunction hideOpenCards() {\r\n\topenCardsIndexes.forEach(function(v, i) {\r\n\t\tcardNodes[v].classList.add('card--hidden');\r\n\t});\r\n\topenCardsIndexes = [];\r\n}\r\n\r\nfunction closeOpenCards() {\r\n\topenCardsIndexes.forEach(function(v, i) {\r\n\t\tcardNodes[v].classList.remove('card--flipped');\r\n\t\tcardNodes[v].addEventListener('click', openCard, false);\r\n\t});\r\n\topenCardsIndexes = [];\r\n}\r\n\r\n\r\nfunction isAllPairsFound() {\r\n\tif (amountOfGuessedPairs === cards.length/2) {\r\n\t\ttimer.stop();\r\n\t\tpopUp.open('You win!!!', menuTemplLevel);\r\n\t}\r\n}\r\n\r\nfunction destroy() {\r\n\tfor (let i = 0; i < cards.length; i++) {\r\n\t\tcardNodes[i].removeEventListener('click', openCard, false);\r\n\t}\r\n}\r\n\r\nfunction isTimeUp() {\r\n\tlet time = timer.getTime();\r\n\tif (time === 0) {\r\n\t\tpopUp.open('You lose!!!', menuTemplLevel);\r\n\t\tdestroy();\r\n\t}\r\n}\t\r\n\r\nfunction showTime() {\r\n\tclock = getElement(clock);\r\n\tclock.innerHTML = `${timer.getTime()}s left`;\r\n}\t\r\n\r\nexport default startGame;\r\n","import {popUp} from './navigation';\r\n\r\nconst newGame = popUp;\r\n"],"sourceRoot":""}